# 技術的知見・設計パターン（MDC対応版）

> **💡 MDC形式での活用**: このファイルは `.cursor/rules/knowledge-management.mdc` から自動参照されます。
> 新しい知見を追加した際は、MDCルールが自動的に関連ファイルでの参照を促進します。

## 設計判断の記録

### [日付] - [設計判断のタイトル]

#### 判断内容
[何について判断したか]

#### 検討した選択肢
1. **[選択肢1]**
   - メリット: 
   - デメリット: 
   - コスト: 

2. **[選択肢2]**
   - メリット: 
   - デメリット: 
   - コスト: 

3. **[選択肢3]**
   - メリット: 
   - デメリット: 
   - コスト: 

#### 決定内容と理由
**決定**: [選択した選択肢]
**理由**: 
- 
- 
- 

#### 決定者・関与者
- **決定者**: [最終決定を行った人]
- **技術検討**: [技術的な検討を行った人]
- **承認者**: [承認を行った人]

#### 影響範囲
- 
- 
- 

#### 今後の見直し予定
[いつ、どのタイミングで見直すか]

#### MDC連携
- **関連パターン**: @.cursor/patterns.md で実装パターンを確認
- **デバッグ履歴**: @.cursor/debug/sessions/ で類似問題を検索
- **改善履歴**: @.cursor/improvements.md で過去の改善事例を参照

#### タグ
`#[技術領域]` `#[アーキテクチャ]` `#[重要度]` `#MDC対応`

---

## 技術パターン集

### [パターン名]

#### 概要
[パターンの説明]

#### 使用場面
[どのような場面で使用するか]
- 
- 
- 

#### 実装例
```[language]
// コード例
// MDCルールにより、該当言語ファイル編集時に自動参照される
```

#### メリット・デメリット
**メリット**:
- 
- 

**デメリット**:
- 
- 

#### 注意点
- 
- 

#### MDC自動適用条件
- **対象ファイル**: `**/*.{js,ts,jsx,tsx,py,java}` など
- **適用タイミング**: 該当技術ファイル編集時に自動参照
- **関連ルール**: `.cursor/rules/patterns-library.mdc`

#### 関連パターン
- [関連するパターン名] - @.cursor/patterns.md で詳細確認
- [代替パターン名] - @.cursor/patterns.md で比較検討

---

## アーキテクチャ決定記録 (ADR: Architecture Decision Record)

### ADR-001: [決定のタイトル]

#### ステータス
[提案中/承認済み/廃止等]

#### コンテキスト
[この決定が必要になった背景]
- **プロジェクト状況**: @.cursor/context.md で背景確認
- **技術制約**: 現在の技術スタックとの整合性
- **チーム状況**: 開発チームのスキルレベルと体制

#### 決定内容
[何を決定したか]

#### 結果
[この決定によってどうなるか]
- **プラス面**: 
- **マイナス面**: 
- **中立面**: 

#### MDC連携効果
- **自動適用**: 関連ファイル編集時に自動的にこの決定が参照される
- **一貫性確保**: team-standards.mdcにより決定内容が自動的に適用される
- **知見蓄積**: 実装過程での問題は @.cursor/debug/sessions/ に自動記録

#### 関連するADR
- ADR-XXX: [関連する決定]

---

## 技術選定記録

### [技術名/ライブラリ名]

#### 選定理由
- 
- 
- 

#### 代替技術との比較
| 項目 | [選定技術] | [代替1] | [代替2] |
|------|-----------|---------|---------|
| 学習コスト | | | |
| パフォーマンス | | | |
| コミュニティ | | | |
| ライセンス | | | |
| 長期サポート | | | |
| MDC対応度 | | | |

#### 懸念事項・リスク
- 
- 
- 

#### 対策
- 
- 
- 

#### MDC統合計画
- **専用ルール作成**: この技術専用の `.cursor/rules/[技術名].mdc` 作成予定
- **自動適用設定**: 該当ファイルでの自動ルール適用設定
- **パターン蓄積**: 使用パターンを @.cursor/patterns.md に蓄積

#### 評価基準
1. **[基準1]**: 重み X点 / 評価 Y点
2. **[基準2]**: 重み X点 / 評価 Y点
3. **[基準3]**: 重み X点 / 評価 Y点
4. **MDC親和性**: 重み X点 / 評価 Y点

**総合評価**: [総点数]

---

## 実装ガイドライン（MDC統合版）

### コーディング規約
[プロジェクト固有のコーディング規約]

#### 命名規則
```
// 変数・関数名
const userName = '...';        // camelCase
function getUserInfo() {}      // camelCase

// 定数
const API_ENDPOINT = '...';    // CONSTANT_CASE

// クラス名
class UserManager {}           // PascalCase

// ファイル名
user-service.js               // kebab-case
UserComponent.tsx             // PascalCase（React等）
```

#### ファイル・ディレクトリ構成
```
src/
  components/          # 再利用可能なコンポーネント
    common/           # 共通コンポーネント
    feature/          # 機能固有コンポーネント
  services/           # ビジネスロジック
  utils/              # ユーティリティ関数
  types/              # 型定義
  constants/          # 定数定義
.cursor/              # MDC知識管理システム
  rules/              # MDCルールファイル
  debug/              # デバッグセッション記録
```

#### エラーハンドリング（MDC連携）
```[language]
// 統一されたエラーハンドリングパターン
// このパターンは .cursor/rules/debug-workflow.mdc により自動適用される
try {
  // 処理
} catch (error) {
  // MDCルールにより、エラー情報が自動的に .cursor/debug/sessions/ に記録される
  logger.error('Error context', { error, additionalData });
  throw new CustomError('User-friendly message', error);
}
```

### パフォーマンスガイドライン（MDC対応）
[パフォーマンスに関するベストプラクティス]

#### 最適化ポイント
1. **[ポイント1]**: [説明と実装例]
   - **MDC自動チェック**: 該当ファイル編集時に自動的にパフォーマンス観点をチェック
2. **[ポイント2]**: [説明と実装例]
   - **パターン参照**: @.cursor/patterns.md で最適化パターンを自動参照
3. **[ポイント3]**: [説明と実装例]
   - **履歴活用**: @.cursor/debug/sessions/ で過去の最適化事例を自動検索

---

## MDC活用ベストプラクティス

### 自動参照の活用
```
# 設計判断時の自動参照
@.cursor/knowledge.md 過去の類似判断は？
@.cursor/context.md プロジェクト制約は？

# 実装時の自動参照
@.cursor/patterns.md この技術の標準パターンは？
@.cursor/debug/sessions/ 類似問題の解決例は？
```

### MDCルール連携
- **Always Rules**: 常に適用される基本的な知見参照
- **Auto Rules**: ファイルタイプに応じた自動的な知見適用
- **Agent Rules**: AI判断による適切な知見の提案
- **Manual Rules**: 必要に応じた手動での知見活用

### 知見蓄積の自動化
1. **問題解決時**: MDCルールが自動的に記録を促進
2. **パターン発見時**: 新パターンの自動的な分類・整理
3. **設計判断時**: 判断プロセスの自動的な構造化記録

---

## 継続的改善（MDC版）

### 月次知見レビュー
```markdown
## [YYYY年MM月] MDC知見管理レビュー

### 自動適用効果
- **Always Rules**: 適用回数 [回数]回、効果 [効果]
- **Auto Rules**: 自動適用 [回数]回、精度 [%]%
- **Agent Rules**: AI提案 [回数]回、採用率 [%]%

### 新規知見
- **技術判断**: [件数]件追加
- **実装パターン**: [件数]件追加
- **デバッグ知見**: [件数]件追加

### MDCルール最適化
- **globs調整**: [調整内容]
- **ルール統合**: [統合内容]
- **新ルール追加**: [追加内容]
```

---

> **🚀 MDC形式の利点**: 
> - **自動参照**: 関連ファイル編集時に自動的に過去知見を参照
> - **一貫性確保**: チーム全体で統一された知見活用
> - **効率化**: 手動設定不要で即座に知見活用開始
> - **継続改善**: 使用パターンに基づく自動的なルール最適化